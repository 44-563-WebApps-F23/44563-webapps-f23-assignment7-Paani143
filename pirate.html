<!DOCTYPE html>
<html lang="en">
<head>
  <title>Treasure </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" 
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" 
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
   <style>
    h1
    {
      font-family:cursive ;
      color:black ;
      text-align:center;
    }
    p
    {
      font-family: 'Courier New', Courier, monospace;
      font-size: medium;
      color:red;
    }

    div
    {
      font-family:Georgia, 'Times New Roman', Times, serif;
      
    }
   </style>
</head>
<body>
 <h1>Find the treasure by Pinakapaani</h1>
 <p>Click on the locations to search
  for treasure, beware the traps.
</p>
<div id="locations">Number of locations checked is zero.</div>
<br>
<div id="penalty">Penalty is zero.</div>
<br>
<p onclick="help()">Click for help.</p>
<div id="help">Help report.</div>
<br>
<div class="container">
<div class="row">
  <div class="col-md-2"><img src="map.jpg" alt="Treasuremap" id="row1-01" onclick="check(0)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="treasuremark" id="row1-02" onclick="check(1)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="trap" id="row1-03" onclick="check(2)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="pirate" id="row1-04" onclick="check(3)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="pirateflag" id="row1-05" onclick="check(4)" width="100" height="100"></div>
</div>
<div class="row">
  <div class="col-md-2"><img src="map.jpg" alt="Treasuremap" id="row2-01" onclick="check(5)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="treasuremark" id="row2-02" onclick="check(6)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="trap" id="row2-03" onclick="check(7)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="pirate" id="row2-04" onclick="check(8)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="pirateflag" id="row2-05" onclick="check(9)" width="100" height="100"></div>
</div>
<div class="row">
  <div class="col-md-2"><img src="map.jpg" alt="Treasuremap" id="row3-01" onclick="check(10)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="treasuremark" id="row3-02" onclick="check(11)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="trap" id="row3-03" onclick="check(12)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="pirate" id="row3-04" onclick="check(13)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="pirateflag" id="row3-05" onclick="check(14)" width="100" height="100"></div>
</div>
<div class="row">
  <div class="col-md-2"><img src="map.jpg" alt="Treasuremap" id="row4-01" onclick="check(15)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="treasuremark" id="row4-02" onclick="check(16)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="trap" id="row4-03" onclick="check(17)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="pirate" id="row4-04" onclick="check(18)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="pirateflag" id="row4-05" onclick="check(19)" width="100" height="100"></div>
</div>
<div class="row">
  <div class="col-md-2"><img src="map.jpg" alt="Treasuremap" id="row5-01" onclick="check(20)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="treasuremark" id="row5-02" onclick="check(21)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="trap" id="row5-03" onclick="check(22)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="pirate" id="row5-04" onclick="check(23)" width="100" height="100"></div>
  <div class="col-md-2"><img src="map.jpg" alt="pirateflag" id="row5-05" onclick="check(24)" width="100" height="100"></div>
</div>
</div> 
<br>
<button type="button" id="btn-4" class="btn" onclick="newGame()">New Game</button>
<script>
  var ids = ["row1-01","row1-02","row1-03","row1-04","row1-05","row2-01","row2-02","row2-03","row2-04","row2-05","row3-01","row3-02","row3-03","row3-04","row3-05","row4-01","row4-02","row4-03","row4-04","row4-05","row5-01","row5-02","row5-03","row5-04","row5-05"];
      var checkCount = 0;
      var penalty = 0;
      var lastCheck = 0;
      var treasureLocation = 5;
      var trapLocation = 18;
      var gameOver = false;
      function check(position)
      {
          if(gameOver)
          return;
          var id = ids[position];
          var image = document.getElementById(id);
          if(position == treasureLocation){
              image.src = "treasure.jpg"; 
              gameOver = true;
              penalty = penalty - 3;
          }
          else if(position == trapLocation){
              image.src = "shallowtrap.jpg";
              gameOver = true;
              penalty = penalty + 4;
          }
          else{
                image.src = "pirate.jpg";
            }
            checkCount++;
            penalty++;
            document.getElementById("locations").innerHTML =  "Number of locations checked is : " + checkCount;
            document.getElementById("penalty").innerHTML = "Penalty is : " + penalty;
            lastCheck = position;
        } 
        function help()
        {
            var text = "";
            var treasureCol = parseInt(treasureLocation % 5);
            var treasureRow = parseInt(treasureLocation / 5);
            var lastCheckCol = parseInt(lastCheck % 5);
            var lastCheckRow = parseInt(lastCheck / 5);
            var col = treasureCol == lastCheckCol;
            var row = treasureRow == lastCheckRow;
            var coldiff = lastCheckCol - treasureCol;
            var rowdiff = lastCheckRow - treasureRow;
                if(col || row){
                    if((rowdiff == 1)||(coldiff == 1)) {
                        text = "Can Smell It";
                    }
                    else if((rowdiff == 2)||(coldiff == 2)){
                        text = "Close Matie";
                    }
                    else {
                        text = "Step Faster";
                    }
                }
            else if((rowdiff == 1) && (coldiff == 1))
                text = "Close Matie";
            else{
                text = "Step Faster";
            }
            penalty = penalty + 2;
            document.getElementById("penalty").innerHTML = "Penalty is : " + penalty;   
            document.getElementById("help").innerHTML = text;
        } 
        var trapLocation = Math.floor(Math.random() * 25); 
            var treasureLocation = Math.floor(Math.random() * 25); 

            function newGame()
             {
                trapLocation = Math.floor(Math.random() * 25);
                treasureLocation = Math.floor(Math.random() * 25);
                checkCount = 0;
                penalty = 0;
                lastCheck = 0;
                gameOver = false;
                document.getElementById("locations").innerHTML = "Number of locations checked is 0";
                document.getElementById("penalty").innerHTML = "Penalty is 0";
                document.getElementById("help").innerHTML = "Click for help";          
             }
             function newGame()
             {
            location.reload();
             }        

</script>


</body>
</html>
